module.exports=function(o){var e={};function t(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return o[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}return t.m=o,t.c=e,t.d=function(o,e,r){t.o(o,e)||Object.defineProperty(o,e,{enumerable:!0,get:r})},t.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},t.t=function(o,e){if(1&e&&(o=t(o)),8&e)return o;if(4&e&&"object"==typeof o&&o&&o.__esModule)return o;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:o}),2&e&&"string"!=typeof o)for(var n in o)t.d(r,n,function(e){return o[e]}.bind(null,n));return r},t.n=function(o){var e=o&&o.__esModule?function(){return o.default}:function(){return o};return t.d(e,"a",e),e},t.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},t.p="",t(t.s=10)}([function(o,e){o.exports=flarum.core.compat["forum/app"]},function(o,e){o.exports=flarum.core.compat["common/extend"]},function(o,e){o.exports=flarum.core.compat["components/EditPostComposer"]},function(o,e){o.exports=flarum.core.compat["common/components/Alert"]},function(o,e){o.exports=flarum.core.compat["utils/DiscussionControls"]},function(o,e){o.exports=flarum.core.compat["components/LogInModal"]},function(o,e){o.exports=flarum.core.compat.Model},function(o,e){o.exports=flarum.core.compat["components/ReplyComposer"]},function(o,e){o.exports=flarum.core.compat["models/User"]},,function(o,e,t){"use strict";t.r(e);var r=t(1),n=t(0),a=t.n(n),s=t(3),u=t.n(s),c=t(4),i=t.n(c),p=t(2),l=t.n(p),d=t(5),f=t.n(d),y=t(6),b=t.n(y),_=t(7),g=t.n(_),x=t(8),v=t.n(x);a.a.initializers.add("the-turk-nodp",(function(){v.a.prototype.canDoublePost=b.a.attribute("canDoublePost");Object(r.extend)(l.a.prototype,"headerItems",(function(o){o.add("nodp",m("div",{className:"Alert"},m("div",{className:"Alert-body"},m("h4",null,a.a.translator.trans("the-turk-nodp.forum.composer_edit.double_posting_warning_title")),m("p",null,a.a.translator.trans("the-turk-nodp.forum.composer_edit.double_posting_warning_description")))))})),Object(r.override)(i.a,"replyAction",(function(o,e){var t=this,r=a.a.session.user;return new Promise((function(n,s){if(r){if(function(o,e){if(!o||!e||e.canDoublePost())return!1;var t=o.lastPostedUser(),r=o.lastPostedAt(),n=a.a.forum.attribute("nodp.time_limit"),s=dayjs(r.getTime()).add(n,"minute").isBefore(dayjs());return 0==n||!s&&t==e}(t,r)){var c=t.lastPost();return"comment"===c.contentType()&&c.canEdit()?(a.a.composer.load(l.a,{post:c}),a.a.composer.show(),$("body").find(".item-nodp").css("display","block"),n(a.a.composer)):(a.a.alerts.show(u.a,{type:"error"},a.a.translator.trans("the-turk-nodp.forum.discussion.cannot_reply_alert_message")),s())}return t.canReply()?(a.a.composer.composingReplyTo(t)&&!e||a.a.composer.load(g.a,{user:r,discussion:t}),a.a.composer.show(),o&&a.a.viewingDiscussion(t)&&!a.a.composer.isFullScreen()&&a.a.current.get("stream").goToNumber("reply"),n(a.a.composer)):s()}return a.a.modal.show(f.a),s()}))}))}),-10)}]);
//# sourceMappingURL=forum.js.map