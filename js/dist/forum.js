(()=>{var o={n:t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},d:(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},t={};(()=>{"use strict";o.r(t);const e=flarum.core.compat["common/extend"],r=flarum.core.compat["forum/app"];var n=o.n(r);const a=flarum.core.compat["common/components/Alert"];var s=o.n(a);const i=flarum.core.compat["forum/utils/DiscussionControls"];var c=o.n(i);const u=flarum.core.compat["forum/components/EditPostComposer"];var d=o.n(u);const p=flarum.core.compat["common/Model"];var l=o.n(p);const f=flarum.core.compat["common/models/User"];var v=o.n(f);n().initializers.add("the-turk-nodp",(function(){v().prototype.canDoublePost=l().attribute("canDoublePost");var o=function(o,t){if(t.canDoublePost())return!1;var e=o.user(),r=o.createdAt(),a=n().forum.attribute("nodp.time_limit"),s=dayjs(r).add(a,"minute").isBefore(dayjs());return e===t&&!s};(0,e.extend)(d().prototype,"headerItems",(function(t){if(o(this.attrs.post,this.attrs.user)){var e=n().translator.trans("the-turk-nodp.forum.composer_edit.double_posting_warning_title"),r=n().translator.trans("the-turk-nodp.forum.composer_edit.double_posting_warning_description");t.add("nodp",m(s(),{dismissible:!1,title:e,type:"warning"},r))}})),(0,e.extend)(c(),"replyAction",(function(t){var e=n().session.user;if(e){var r=n().current.get("stream").posts(),a=r[r.length-1];if(o(a,e))return a&&"comment"===a.contentType()&&a.canEdit()?(n().composer.load(d(),{post:a}),void n().composer.show()):void n().alerts.show(s(),{type:"error"},n().translator.trans("the-turk-nodp.forum.discussion.cannot_reply_alert_message"))}}))}),-10)})(),module.exports=t})();
//# sourceMappingURL=forum.js.map